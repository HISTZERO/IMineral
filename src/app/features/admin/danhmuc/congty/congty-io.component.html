<div class="pt-3">
  <form *ngIf="editMode" [formGroup]="companyIOForm" class="pt-toolbar">
    <div class="form-group row mx-0">
      <label class="col-sm-4 col-form-label text-right"
        >{{ "DANHMUC.congty.tencongty" | translate }} <small>(*)</small></label
      >
      <div class="col-sm-8">
        <input class="form-control" type="text" formControlName="tencongty" />
        <span *ngIf="formErrors.tencongty" class="alert-danger">{{
          formErrors.tencongty
        }}</span>
      </div>
    </div>
    <div class="form-group row mx-0">
      <label class="col-sm-4 col-form-label text-right"
        >{{ "DANHMUC.congty.sodienthoai" | translate }}
        <small>(*)</small></label
      >
      <div class="col-sm-8">
        <input class="form-control" type="text" formControlName="sodienthoai" />
        <span *ngIf="formErrors.sodienthoai" class="alert-danger">{{
          formErrors.sodienthoai
        }}</span>
      </div>
    </div>
    <div class="form-group row mx-0">
      <label class="col-sm-4 col-form-label text-right"
        >{{ "DANHMUC.congty.email" | translate }} <small>(*)</small></label
      >
      <div class="col-sm-8">
        <input class="form-control" type="text" formControlName="email" />
        <span *ngIf="formErrors.email" class="alert-danger">{{
          formErrors.email
        }}</span>
      </div>
    </div>
    <div class="form-group row mx-0">
      <label class="col-sm-4 col-form-label text-right"
        >{{ "COMMON.default.matinh" | translate }} <small>(*)</small></label
      >
      <div class="col-sm-8">
        <mat-select
          placeholder="Chọn tỉnh/thành phố"
          class="form-control"
          formControlName="matinh"
          (selectionChange)="showDvhcHuyen()"
          *ngIf="dataTranslate"
        >
          <mat-select-filter
            [displayMember]="'tendvhc'"
            [array]="dvhcProvinceFilters"
            (filteredReturn)="allTinh = $event"
          >
          </mat-select-filter>
          <mat-option value="">
            {{ "COMMON.default.chonTinh" | translate }}
          </mat-option>
          <mat-option *ngFor="let tinh of allTinh" [value]="tinh.matinh">
            {{ tinh.tendvhc }}
          </mat-option>
        </mat-select>
        <span *ngIf="formErrors.matinh" class="alert-danger">{{
          formErrors.matinh
        }}</span>
      </div>
    </div>
    <div class="form-group row mx-0">
      <label class="col-sm-4 col-form-label text-right"
        >{{ "COMMON.default.mahuyen" | translate }} <small>(*)</small></label
      >
      <div class="col-sm-8">
        <mat-select
          placeholder="Chọn huyện/phường"
          class="form-control"
          formControlName="mahuyen"
          (selectionChange)="showDvhcXa()"
          *ngIf="dataTranslate"
        >
          <mat-select-filter
            [displayMember]="'tendvhc'"
            [array]="dvhcDistrictFilters"
            (filteredReturn)="allHuyen = $event"
          >
          </mat-select-filter>
          <mat-option value="">
            {{ "COMMON.default.chonHuyen" | translate }}
          </mat-option>
          <mat-option *ngFor="let huyen of allHuyen" [value]="huyen.mahuyen">
            {{ huyen.tendvhc }}
          </mat-option>
        </mat-select>
        <span *ngIf="formErrors.mahuyen" class="alert-danger">{{
          formErrors.mahuyen
        }}</span>
      </div>
    </div>
    <div class="form-group row mx-0">
      <label class="col-sm-4 col-form-label text-right">{{
        "COMMON.default.maxa" | translate
      }}</label>
      <div class="col-sm-8">
        <mat-select
          placeholder="Chọn xã/thị trấn"
          class="form-control"
          formControlName="maxa"
          *ngIf="dataTranslate"
        >
          <mat-select-filter
            [displayMember]="'tendvhc'"
            [array]="dvhcWardFilters"
            (filteredReturn)="allXa = $event"
          >
          </mat-select-filter>
          <mat-option value="">
            {{ "COMMON.default.chonXa" | translate }}
          </mat-option>
          <mat-option *ngFor="let xa of allXa" [value]="xa.maxa">
            {{ xa.tendvhc }}
          </mat-option>
        </mat-select>
      </div>
    </div>
    <div class="form-group row mx-0">
      <label class="col-sm-4 col-form-label text-right">{{
        "DANHMUC.congty.diachi" | translate
      }}</label>
      <div class="col-sm-8">
        <input class="form-control" type="text" formControlName="diachi" />
      </div>
    </div>
    <div class="form-group row mx-0">
      <label class="col-sm-4 col-form-label text-right">{{
        "DANHMUC.congty.note" | translate
      }}</label>
      <div class="col-sm-8">
        <textarea formControlName="note" class="form-control"></textarea>
      </div>
    </div>
    <div class="form-group row mx-0">
      <label class="col-sm-4 col-form-label text-right">{{
        "DANHMUC.congty.imgLink" | translate
      }}</label>
      <div class="col-sm-8 row">
        <div class="image-preview col-8">
          <div class="row px-2">
            <a *ngIf="!srcanh === false" [href]="srcanh">
              <img [src]="srcanh" height="100" style="padding-bottom: 10px;" />
            </a>
            <img
              *ngIf="!srcanh === true"
              class="pb-2 border"
              src="{{ 'COMMON.default.linkImage' | translate }}"
              alt="image"
              width="100%"
            />
            <input
              class="form-control"
              hidden
              type="text"
              formControlName="imgLink"
            />
          </div>
          <div class="row p-0">
            <button
              class="btn btn-xsm btn-link text-danger"
              type="button"
              *ngIf="srcanh"
              (click)="deleteAnh()"
            >
              <i class="fas fa-trash-alt"></i>
              {{ "COMMON.default.deleteImage" | translate }}
            </button>
          </div>
        </div>
        <div class="col-4">
          <button
            class="btn btn-primary"
            style="margin: auto;"
            (click)="showMatDialog()"
          >
            <i class="fal fa-check-square"></i>
            {{ "COMMON.default.chooseImage" | translate }}
          </button>
        </div>
      </div>
    </div>
    <div class="toolbar-container py-2">
      <div class="function-toolbar">
        <div class="form-group row mx-0">
          <div class="col-12">
            <button
              class="btn btn-primary float-right"
              (click)="onSubmit(purpose)"
            >
              <i class="far fa-save"></i>
              {{ "COMMON.default.saveAndClose" | translate }}
            </button>
            <button
              class="btn btn-outline-primary float-right mr-3"
              *ngIf="purpose === 'new'"
              (click)="addOrUpdateContinue(purpose)"
            >
              <i class="far fa-download"></i>
              {{ "COMMON.default.saveAndRefresh" | translate }}
            </button>
            <button
              class="btn btn-outline-info float-right mr-3"
              *ngIf="purpose === 'new'"
              (click)="onFormReset()"
            >
              <i class="far fa-sync-alt"></i>
              {{ "COMMON.default.refresh" | translate }}
            </button>
            <button
              class="btn btn-danger float-right mr-3"
              (click)="closeCompanyIOSidebar()"
            >
              <i class="far fa-times-circle"></i>
              {{ "COMMON.default.cancel" | translate }}
            </button>
          </div>
        </div>
      </div>
    </div>
  </form>
</div>
