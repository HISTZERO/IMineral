<app-sub-header
  [menuItems]="navArray"
  [buttonItems]="btnArray"
></app-sub-header>
<div class="content pt-3">
  <mat-sidenav-container class="sidenav-container" hasBackdrop="false">
    <mat-sidenav-content>
      <div class="container-fluid">
        <!-- <div class="row">
          <div class="col-12 px-0"> -->
        <div class="card border">
          <div class="card-header">
            <h3>
              <span class="title" *ngIf="currentAction === ActionType.Add">
                {{
                  "CAPPHEPHOATDONGKHOANGSAN.cappheppheduyettruluongkhoangsan.titleAdd"
                    | translate
                }}
              </span>
              <span class="title" *ngIf="currentAction === ActionType.Edit">
                {{
                  "CAPPHEPHOATDONGKHOANGSAN.cappheppheduyettruluongkhoangsan.titleEdit"
                    | translate
                }}
              </span>
            </h3>
          </div>
          <div class="card-body">
            <mat-tab-group
              mat-stretch-tabs
              #capPhepPheDuyetTruLuongKhoanSanTabs
              [animationDuration]=""
              [selectedIndex]="TabType.ThongTinGiayPhep"
              (selectedIndexChange)="tabChange($event)"
            >
              <!-- Tab thông tin cấp phép -->
              <mat-tab
                [disabled]="!disabledTabState[TabType.ThongTinGiayPhep]"
                label="{{
                  'CAPPHEPHOATDONGKHOANGSAN.cappheppheduyettruluongkhoangsan.thongTinCapPhepTabTitle'
                    | translate
                }}"
              >
                <app-quyetdinh-io
                  [disabled]="!disabledTabState[TabType.ThongTinGiayPhep]"
                  label="{{
                    'CAPPHEPHOATDONGKHOANGSAN.cappheppheduyettruluongkhoangsan.thongTinCapPhepTabTitle'
                      | translate
                  }}"
                  [nhomLoaiCapPhep]="nhomLoaiCapPhepEnum.PheDuyetTruLuong"
                  [insertedState]="insertedState.SaveAndEdit"
                  [allowAutoInit]="false"
                  (selectCurrentFormStateEvent)="getGiayPhepIoFormState($event)"
                  (selectNewInsertedGiayPhepEvent)="getIdGiayPhep($event)"
                  #giayPhepIOComp
                >
                </app-quyetdinh-io>
              </mat-tab>

              <!-- tab Tài liệu đính kèm giấy phép -->
              <mat-tab
                [disabled]="!disabledTabState[TabType.TaiLieuGiayPhepDinhKem]"
                label="{{
                  'CAPPHEPHOATDONGKHOANGSAN.cappheppheduyettruluongkhoangsan.taiLieuDinhKemCapPhepTabTile'
                    | translate
                }}"
              >
                <app-giaypheptailieu-list
                  [disabledMatsidenav]="true"
                  #taiLieuListComp
                  [allowAutoInit]="false"
                >
                </app-giaypheptailieu-list>

                <!-- Tab "Thông tin quyết định" -->
              </mat-tab>
              <!-- tab Thông tin quyết định -->
              <mat-tab
              [disabled]="!disabledTabState[TabType.ThongTinCapPhep]"
                label="{{
                  'CAPPHEPHOATDONGKHOANGSAN.cappheppheduyettruluongkhoangsan.thongTinCapPhepTabTitle'
                    | translate
                }}"
              >
                <app-cp-pdtlks-thongtinquyetdinh
                  #thongTinDangKyComp
                  [allowAutoInit]="false"
                ></app-cp-pdtlks-thongtinquyetdinh>
              </mat-tab>
            </mat-tab-group>
          </div>
        </div>
        <!-- </div>
        </div> -->
      </div>
      <mat-sidenav
        #aside
        [fixedInViewport]="true"
        [fixedTopGap]="50"
        class="aside"
        position="end"
        style="width: 700px"
      >
        <div class="p-2 pl-3 bg-primary text-white mat-sidenav-title fixed-top">
          <button class="btn btn-sm btn-light" (click)="closeIOSidenav()">
            <i class="fad fa-chevron-double-right"></i>
          </button>
          <span
            style="vertical-align: middle"
            class="ml-3 mat-sidenav-title-text"
            >{{ matSidenavService.sidenavTitle }}</span
          >
        </div>
        <template #compio> </template>
      </mat-sidenav>
    </mat-sidenav-content>
  </mat-sidenav-container>
</div>
